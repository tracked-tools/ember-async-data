{"version":3,"file":"load.js","sources":["../../src/helpers/load.ts"],"sourcesContent":["import TrackedAsyncData from '../tracked-async-data';\n\n/**\n  Given a `Promise`, return a `TrackedAsyncData` object which exposes the state\n  of the promise, as well as the resolved value or thrown error once the promise\n  resolves or fails.\n\n  The function and helper accept any data, so you may use it freely in contexts\n  where you are receiving data which may or may not be a `Promise`.\n\n  ## Example\n\n  Given a backing class like this:\n\n  ```js\n  import Component from '@glimmer/component';\n  import { cached } from 'ember-cached-decorator-polyfill';\n  import { load } from 'ember-tracked-data/helpers/load';\n\n  export default class ExtraInfo extends Component {\n    @cached\n    get someData() {return load(fetch('some-url', this.args.someArg));\n    }\n  }\n  ```\n\n  You can use the result in your template like this:\n\n  ```hbs\n  {{#if this.someData.isLoading}}\n    loading...\n  {{else if this.someData.isLoaded}}\n    {{this.someData.value}}\n  {{else if this.someData.isError}}\n    Whoops! Something went wrong: {{this.someData.error}}\n  {{/if}}\n  ```\n\n  You can also use the helper directly in your template:\n\n  ```hbs\n  {{#let (load @somePromise) as |data|}}\n    {{#if data.isLoading}}\n      <LoadingSpinner />\n    {{else if data.isLoaded}}\n      <SomeComponent @data={{data.value}} />\n    {{else if data.isError}}\n      <Error @cause={{data.error}} />\n    {{/if}}\n  {{/let}}\n  ```\n\n  @param data The (async) data we want to operate on: a value or a `Promise` of\n    a value.\n  @returns An object containing the state(, value, and error).\n  @note Prefer to use `TrackedAsyncData` directly! This function is provided\n    simply for symmetry with the helper and backwards compatibility.\n */\nfunction load<T>(data: T | Promise<T>): TrackedAsyncData<T> {\n  return new TrackedAsyncData(data);\n}\nexport { load, load as default };\n"],"names":["load","data","TrackedAsyncData"],"mappings":";;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,IAAIA,CAAIC,IAAoB,EAAuB;AAC1D,EAAA,OAAO,IAAIC,gBAAgB,CAACD,IAAI,CAAC,CAAA;AACnC;;;;"}